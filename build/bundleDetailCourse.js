!function(l){function o(o){for(var e,t,i=o[0],n=o[1],r=o[2],a=0,s=[];a<i.length;a++)t=i[a],h[t]&&s.push(h[t][0]),h[t]=0;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e]);for(u&&u(o);s.length;)s.shift()();return d.push.apply(d,r||[]),c()}function c(){for(var o,e=0;e<d.length;e++){for(var t=d[e],i=!0,n=1;n<t.length;n++){var r=t[n];0!==h[r]&&(i=!1)}i&&(d.splice(e--,1),o=a(a.s=t[0]))}return o}var t={},h={3:0},d=[];function a(o){if(t[o])return t[o].exports;var e=t[o]={i:o,l:!1,exports:{}};return l[o].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=l,a.c=t,a.d=function(o,e,t){a.o(o,e)||Object.defineProperty(o,e,{enumerable:!0,get:t})},a.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(e,o){if(1&o&&(e=a(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var i in e)a.d(t,i,function(o){return e[o]}.bind(null,i));return t},a.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(e,"a",e),e},a.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},a.p="/";var e=window.webpackJsonp=window.webpackJsonp||[],i=e.push.bind(e);e.push=o,e=e.slice();for(var n=0;n<e.length;n++)o(e[n]);var u=i;d.push([218,0]),c()}({1:function(o,e){var t=[{MaKhoaHoc:"javascript",TenKhoaHoc:"Javascript",MoTa:"Hướng dẫn cơ bản đến nâng cao",NguoiTao:"test",LuotXem:0,HinhAnh:"",UserDangKy:[]},{MaKhoaHoc:"angular",TenKhoaHoc:"Angular 4",MoTa:"Hướng dẫn cơ bản đến nâng cao",NguoiTao:"test",LuotXem:0,HinhAnh:"",UserDangKy:[]},{MaKhoaHoc:"reactjs",TenKhoaHoc:"Reactjs",MoTa:"Hướng dẫn cơ bản đến nâng cao",NguoiTao:"test",LuotXem:0,HinhAnh:"",UserDangKy:[]},{MaKhoaHoc:"nodejs",TenKhoaHoc:"Nodejs",MoTa:"Hướng dẫn cơ bản đến nâng cao",NguoiTao:"test",LuotXem:0,HinhAnh:"",UserDangKy:[]},{MaKhoaHoc:"mongodb",TenKhoaHoc:"MongoDB",MoTa:"Hướng dẫn cơ bản đến nâng cao",NguoiTao:"test",LuotXem:0,HinhAnh:"",UserDangKy:[]},{MaKhoaHoc:"sqlserver",TenKhoaHoc:"SQL Server",MoTa:"Hướng dẫn cơ bản đến nâng cao",NguoiTao:"test",LuotXem:0,HinhAnh:"",UserDangKy:[]},{MaKhoaHoc:"vuejs",TenKhoaHoc:"Vue JS",MoTa:"Hướng dẫn cơ bản đến nâng cao",NguoiTao:"test",LuotXem:0,HinhAnh:"",UserDangKy:[]},{MaKhoaHoc:"reactnative",TenKhoaHoc:"React Native",MoTa:"Hướng dẫn cơ bản đến nâng cao",NguoiTao:"test",LuotXem:0,HinhAnh:"",UserDangKy:[]}],i=[{Email:"admin@gmail.com",HoTen:"admin",MaLoaiNguoiDung:"GV",SoDT:"0909015594",TaiKhoan:"admin",TenLoaiNguoiDung:"Admin",MatKhau:"admin"},{Email:"helloworld@gmail.com",HoTen:"helloworld",MaLoaiNguoiDung:"HV",SoDT:"0909015594",TaiKhoan:"helloworld",TenLoaiNguoiDung:"Học viên",MatKhau:"123"}];o.exports={dataKhoaHoc:t,createData:function(){!localStorage.getItem("DanhSachKhoaHoc")&&localStorage.setItem("DanhSachKhoaHoc",JSON.stringify(t)),!localStorage.getItem("DanhSachNguoiDung")&&localStorage.setItem("DanhSachNguoiDung",JSON.stringify(i))},updateData:function(o,e){switch(o){case"dskh":localStorage.removeItem("DanhSachKhoaHoc"),localStorage.setItem("DanhSachKhoaHoc",JSON.stringify(e));break;case"dsnd":localStorage.removeItem("DanhSachNguoiDung"),localStorage.setItem("DanhSachNguoiDung",JSON.stringify(e));break;case"ctkh":localStorage.removeItem("ChiTietKhoaHoc"),localStorage.setItem("ChiTietKhoaHoc",JSON.stringify(e))}},getData:function(o){switch(o){case"dskh":return JSON.parse(localStorage.getItem("DanhSachKhoaHoc"));case"dsnd":return JSON.parse(localStorage.getItem("DanhSachNguoiDung"));case"ctkh":return JSON.parse(localStorage.getItem("ChiTietKhoaHoc"))}},apiURL:"https://course.selflearning.app"}},10:function(o,e,t){},11:function(o,e,t){},12:function(o,e,t){},16:function(o,e,t){},17:function(o,e,t){},18:function(o,e,g){"use strict";(function(a){var o,e,t,i,n=g(5),r=g(3),s=g(4),l=new n.a,c=r.a,h=new s.a;o=localStorage.getItem("DanhSachKhoaHoc"),e=JSON.parse(o),l.mangKhoaHoc=e,t=localStorage.getItem("HinhAnh"),i=JSON.parse(t),c.mangHinhAnh=i,a("body").delegate(".searchInput","keyup",function(){a(this).closest(".popover-body").niceScroll({cursorcolor:"silver",cursorwidth:4,cursorborder:"none"}),a(".preloader2").css("display","inline-block"),a(".loader2").css("border-left","3px solid #ffb606"),a(".form-group").css("border-bottom","1px solid #c0c0c052"),a(".form-group").css("padding-bottom","3px");var o=a(this).closest(".searchInput").val(),n=l.TimKiemKhoaHoc2(o),r=a(this).closest(".popover-body").find("#oknha");r.html(""),null!=n.mangKhoaHoc?setTimeout(function(){p();var o='<p class="pt-1 pb-1"> Có '.concat(n.mangKhoaHoc.length," kết quả tìm thấy!</p>");r.css("max-height","400px");for(var e="",t=0;t<n.mangKhoaHoc.length;t++)for(var i=0;i<c.mangHinhAnh.length;i++){if(n.mangKhoaHoc[t].MaKhoaHoc==c.mangHinhAnh[i].ten)e+='\n\t\t\t\t\t\t\t\t\t<a id="linkSearchCourse" class="oktest" data-id="'.concat(n.mangKhoaHoc[t].MaKhoaHoc,'">\n\t\t\t\t\t\t\t\t\t\t<div class="searchKH">\n\t\t\t\t\t\t\t\t\t\t\t<img class="img-fluid" src="').concat(c.mangHinhAnh[i].src,'">\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t').concat(n.mangKhoaHoc[t].TenKhoaHoc," \n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t")}o+=e,r.html(o),a(".oktest").click(function(){var o,e=a(this).attr("data-id");o=e,h.ChiTietKhoaHoc(o)})},500):(p(),r.css("max-height","69px"),a(".form-group").css("border-bottom","none"),a(".form-group").css("padding-bottom","0px"))}),a("#XemAll").click(function(){window.location.href="/course"});var d=!0;a("#sidebarCollapse").click(function(){d=1==d?(a("#sidebarCollapse").addClass("active"),!1):(a("#sidebarCollapse").removeClass("active"),!0)}),a("#popover-content").hide(),a("[data-toggle=popover]").popover({html:!0,content:function(){return a("#popover-content").html()}}),a('a[href="#introduce"]').on("click",function(o){o.preventDefault(),a("html, body").animate({scrollTop:a(a(this).attr("href")).offset().top},500,"linear")}),window.onscroll=function(){window.pageYOffset>=m?(u.classList.add("sticky"),a("#myNav").css("background","#333"),a("#myNav").css("z-index","1000")):(u.classList.remove("sticky"),a("#myNav").css("background","rgba(0, 0, 0, 0.2)")),500<document.body.scrollTop||200<document.documentElement.scrollTop?document.getElementById("myBtn").style.display="block":document.getElementById("myBtn").style.display="none"};var u=document.getElementById("myNav"),m=u.offsetTop;function p(){a(".preloader2").hide()}a("#myBtn").click(function(){a("body,html").animate({scrollTop:0},800)})}).call(this,g(2))},21:function(o,e){o.exports="images/kh1.jpg"},218:function(o,e,t){"use strict";t.r(e);t(2),t(20),t(19),t(32),t(8);var i=t(13),n=t.n(i);t(14),t(16),t(10),t(11),t(12),t(39),t(219),t(17),t(220),t(221),t(33),t(18),t(222);(new n.a).init()},219:function(o,e,t){},22:function(o,e){o.exports="images/kh2.jpg"},220:function(o,e){o.exports="images/comment-person.png"},221:function(o,e){o.exports="images/img_avatar.png"},222:function(o,e,P){"use strict";(function(i){var o=P(3),e=P(5),t=(P(6),P(4)),n=P(1),r=P(21),a=P.n(r),s=P(22),l=P.n(s),c=P(23),h=P.n(c),d=P(24),u=P.n(d),m=P(25),p=P.n(m),g=P(26),f=P.n(g),w=P(27),v=P.n(w),b=P(28),y=P.n(b),x=P(29),T=P.n(x),S=P(30),k=P.n(S),H=P(31),z=P.n(H),M=P(7),K=new o.a,L=new e.a,E=[],C=[],N=[],D=new t.a;Object(n.createData)();var I=location.pathname.split("/"),O=I[I.length-1];function A(){var o=Math.floor(11*Math.random()+1);return 1==o?a.a:2==o?l.a:3==o?h.a:4==o?u.a:5==o?p.a:6==o?f.a:7==o?v.a:8==o?y.a:9==o?T.a:10==o?k.a:11==o?z.a:void 0}function j(){var o=localStorage.getItem("HinhAnh"),e=JSON.parse(o);K.mangHinhAnh=e}L.mangKhoaHoc=Object(n.getData)("dskh"),E=L.mangKhoaHoc.find(function(o){return o.MaKhoaHoc==O}),console.log(I,O,E),function(){var o=localStorage.getItem("HinhAnh");if(null==o||null==o){for(var e=0;e<L.mangKhoaHoc.length;e++){var t=L.mangKhoaHoc[e].MaKhoaHoc,i=A(),n=new M.a(t,i);K.ThemHinhAnh(n)}var r=JSON.stringify(K.mangHinhAnh);localStorage.setItem("HinhAnh",r)}else{j();var a=K.mangHinhAnh.length,s=L.mangKhoaHoc.length;if(a!=s){K.mangHinhAnh=[],console.log(a);for(var l=0;l<L.mangKhoaHoc.length;l++){var c=L.mangKhoaHoc[l].MaKhoaHoc,h=A(),d=new M.a(c,h);K.ThemHinhAnh(d)}var r=JSON.stringify(K.mangHinhAnh);localStorage.setItem("HinhAnh",r)}}}(),function(){j();for(var o=0;o<K.mangHinhAnh.length;o++)E.MaKhoaHoc==K.mangHinhAnh[o].ten&&(i(".imgCourse").attr("src","/"+K.mangHinhAnh[o].src),i(".imgCourse").css("width","100%"));i(".nameTeacher").html(E.NguoiTao),i(".nameCourse").html(E.TenKhoaHoc);var e=i("#linkCourse"),t=i(E.MoTa);e.append(t),i("iframe").attr("width","100%")}(),function(){var o=localStorage.getItem("ThongTinDangNhap");if(null!=o){var e=JSON.parse(o);N=e;var t=E.UserDangKy.find(function(o){return o===N.TaiKhoan});null!=t&&i(".btnEnroll").css("display","none")}}(),function(){if(null==localStorage.getItem("ThongTinDangNhap"))i("#viewCourse").attr("data-target",""),i("#viewCourse").html("Login để xem");else for(var o=0;o<C.length;o++){if(E.MaKhoaHoc==C[o].MaKhoaHoc){i("#viewCourse").attr("data-target","#myModal");break}i("#viewCourse").attr("data-target",""),i("#viewCourse").html("Login để xem")}}(),i(".btnEnroll").click(function(){null==localStorage.getItem("ThongTinDangNhap")?location.href="/login":swal({text:"Bạn chắc chắn muốn ghi danh khóa học này?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(o){o&&function(){var o=localStorage.getItem("ThongTinDangNhap");if(null!=o){var e=JSON.parse(o);D.GhiDanhKhoaHoc(L.mangKhoaHoc,E.MaKhoaHoc,e.TaiKhoan)}}()})})}).call(this,P(2))},23:function(o,e){o.exports="images/kh3.jpg"},24:function(o,e){o.exports="images/kh4.jpg"},25:function(o,e){o.exports="images/kh5.jpg"},26:function(o,e){o.exports="images/kh6.jpg"},27:function(o,e){o.exports="images/kh7.jpg"},28:function(o,e){o.exports="images/kh8.jpg"},29:function(o,e){o.exports="images/kh9.jpg"},3:function(o,e,t){"use strict";e.a=function(){this.mangHinhAnh=[],this.ThemHinhAnh=function(o){this.mangHinhAnh.push(o)}}},30:function(o,e){o.exports="images/kh10.jpg"},31:function(o,e){o.exports="images/kh11.jpg"},33:function(o,e,t){(function(a){var s=[];!function(){var o=localStorage.getItem("ThongTinDangNhap"),e=JSON.parse(o);if(s=e,null==o)a("#logout").css("display","inline-block"),a("#login").css("display","none");else{a("#logout").css("display","none"),a("#login").css("display","inline-block");var t=document.getElementById("name"),i=document.createElement("span");i.innerHTML=s.TaiKhoan;var n=document.getElementById("logout2"),r=document.createElement("span");r.innerHTML="Đăng xuất",n.appendChild(r),t.appendChild(i)}}(),a("#logout2").click(function(){localStorage.removeItem("ThongTinNguoiDung"),localStorage.removeItem("ThongTinDangNhap"),localStorage.removeItem("Pass"),localStorage.removeItem("ThongTinGhiDanhKhoaHoc"),window.location.href="/"})}).call(this,t(2))},39:function(o,e,t){},4:function(o,e,t){"use strict";(function(a){t.d(e,"a",function(){return o});var s=t(1),o=function(){this.XoaKhoaHoc=function(o){var e="http://svcy.myclass.vn/api/QuanLyTrungTam/XoaKhoaHoc/".concat(o);a.ajax({type:"DELETE",url:e,xhrFields:{withCredentials:!1},success:function(o){swal({text:"Xóa khóa học thành công!",icon:"success",button:"OK"}).then(function(o){window.location.reload()}),console.log(o)},error:function(o){alertFail("Khóa học đã ghi danh không thể xóa")}})},this.ChiTietKhoaHoc=function(e){if(localStorage.getItem("DanhSachKhoaHoc")){var o=JSON.parse(localStorage.getItem("DanhSachKhoaHoc")).find(function(o){return o.MaKhoaHoc===e}),t=JSON.stringify(o);localStorage.setItem("ChiTietKhoaHoc",t),location.href="/course/".concat(e)}else{var i=s.dataKhoaHoc.find(function(o){return o.MaKhoaHoc===e});t=JSON.stringify(i);localStorage.setItem("ChiTietKhoaHoc",t),location.href="/course/".concat(e)}},this.ThemKhoaHoc=function(o){l();a.ajax({type:"POST",url:"http://svcy.myclass.vn/api/QuanLyTrungTam/ThemKhoaHoc",dataType:"json",data:o,xhrFields:{withCredentials:!1},success:function(o){setTimeout(function(){return c(),swal({text:"Thêm khóa học thành công!",icon:"success",button:"OK"}).then(function(o){window.location.reload()}),console.log(o),!0},500)},error:function(o){setTimeout(function(){c(),swal({text:"Trùng mã khóa học!",icon:"error",button:"OK"}).then(function(o){})},500)}})},this.LayThongTinGhiDanhKhoaHoc=function(o,e){var t=[],i=!0,n=!1,r=void 0;try{for(var a,s=o[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(console.log(l),0<l.UserDangKy.length)l.UserDangKy.find(function(o){return o==e})&&t.push(l)}}catch(o){n=!0,r=o}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}return t},this.GhiDanhKhoaHoc=function(e,t,i){l();var n=0,o=e.find(function(o){if(o.MaKhoaHoc==t)return!0;n++}),r=!0,a=null;0<o.UserDangKy.length&&(a=o.UserDangKy.find(function(o){return o==i}),r=!a),setTimeout(function(){c(),swal({text:r?"Ghi danh khóa học thành công!":"Ghi danh thất bại!",icon:r?"success":"error",button:"OK"}).then(function(o){r&&(e[n].UserDangKy.push(i),console.log(e),Object(s.updateData)("dskh",e),window.location.reload())})},1e3)},this.CapNhatThongTinKhoaHoc=function(o,e,t,i,n){l();var r=JSON.stringify({MaKhoaHoc:o,TenKhoaHoc:e,MoTa:t,LuotXem:i,NguoiTao:n});a.ajax({type:"PUT",url:"http://svcy.myclass.vn/api/QuanLyTrungTam/capnhatkhoahoc",contentType:"application/json",dataType:"json",data:r,xhrFields:{withCredentials:!1},success:function(o){setTimeout(function(){return c(),swal({text:"Cập nhật khóa học thành công!",icon:"success",button:"OK"}).then(function(o){window.location.reload()}),console.log(o),!0},500)},error:function(o){setTimeout(function(){swal({text:"Cập nhật khóa học thành công!",icon:"success",button:"OK"}).then(function(o){window.location.reload()})},500)}})}},l=function(){a(".preloader").css("display","inline-block")},c=function(){a(".preloader").hide()}}).call(this,t(2))},5:function(o,e,t){"use strict";e.a=function n(){this.mangKhoaHoc=[],this.ThemKhoaHoc=function(o){this.mangKhoaHoc.push(o)},this.TimKiemKhoaHoc=function(o){for(var e=new n,t=0;t<this.mangKhoaHoc.length;t++){var i=this.mangKhoaHoc[t];(-1<i.TenKhoaHoc.toLowerCase().indexOf(o.toLowerCase())||-1<i.MaKhoaHoc.toLowerCase().indexOf(o.toLowerCase()))&&e.ThemKhoaHoc(i)}return e},this.TimKiemKhoaHoc2=function(o){for(var e=new n,t=0;t<this.mangKhoaHoc.length;t++){var i=this.mangKhoaHoc[t];if((-1<i.TenKhoaHoc.toLowerCase().indexOf(o.toLowerCase())||-1<i.MaKhoaHoc.toLowerCase().indexOf(o.toLowerCase()))&&(e.ThemKhoaHoc(i),""==o))return[]}return e},this.layThongTinKhoaHoc=function(o){for(var e=0;e<this.mangKhoaHoc.length;e++){var t=this.mangKhoaHoc[e];if(t.MaKhoaHoc==o)return t}},this.CapNhatThongTinKhoaHoc=function(o){for(var e=0;e<this.mangKhoaHoc.length;e++){var t=this.mangKhoaHoc[e];o.MaKhoaHoc==t.MaKhoaHoc&&(t.TenKhoaHoc=o.TenKhoaHoc,t.MoTa=o.MoTa,t.HinhAnh=o.HinhAnh,t.LuotXem=o.LuotXem)}},this.XoaKhoaHoc=function(o,e){for(var t=0;t<o.length;t++)for(var i=0;i<e.length;i++)o[t]==e[i].MaKhoaHoc&&e.splice(i,1);return e}}},6:function(o,e,t){"use strict";e.a=function n(){this.mangHocVien=[],this.ThemHocVien=function(o){this.mangHocVien.push(o)},this.TimKiemHocVien=function(o){for(var e=new n,t=0;t<this.mangHocVien.length;t++){var i=this.mangHocVien[t];-1<i.TaiKhoan.toLowerCase().indexOf(o.toLowerCase())&&e.ThemHocVien(i)}return e},this.layThongTinHocVien=function(o){for(i=0;i<this.mangHocVien.length;i++){var e=this.mangHocVien[i];if(e.TaiKhoan==o)return e}},this.CapNhatThongTinHocVien=function(o){for(var e=0;e<this.mangHocVien.length;e++){var t=this.mangHocVien[e];o.TaiKhoan==t.TaiKhoan&&(t.TaiKhoan=o.TaiKhoan,t.HoTen=o.HoTen,t.Email=o.Email,t.SoDT=o.SoDT,t.MaLoaiNguoiDung=o.MaLoaiNguoiDung,t.TenLoaiNguoiDung=o.TenLoaiNguoiDung)}},this.XoaHocVien=function(o){for(var e=0;e<o.length;e++)for(var t=0;t<this.mangHocVien.length;t++)o[e]==this.mangHocVien[t].TaiKhoan&&this.mangHocVien.splice(t,1);return this.mangHocVien}}},7:function(o,e,t){"use strict";e.a=function(o,e){this.ten=o,this.src=e}},8:function(o,e,t){var i,n,r;function l(o){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}n=[t(2)],void 0===(r="function"==typeof(i=function(p){var g=!1,f=!1,w=0,v=2e3,b=0,o=["webkit","ms","moz","o"],y=window.requestAnimationFrame||!1,x=window.cancelAnimationFrame||!1;if(!y)for(var e in o){var t=o[e];if(y=window[t+"RequestAnimationFrame"]){x=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];break}}var i,T=window.MutationObserver||window.WebKitMutationObserver||!1,S={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:(i=document.getElementsByTagName("script"),i=i.length?i[i.length-1].src.split("?")[0]:"",0<i.split("/").length?i.split("/").slice(0,-1).join("/")+"/":""),preventmultitouchscrolling:!0,disablemutationobserver:!1},k=!1,n=function(o,e){function t(){var o=u.doc.css(m.trstyle);return!(!o||"matrix"!=o.substr(0,6))&&o.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function r(o,e,t){return e=o.css(e),o=parseFloat(e),isNaN(o)?(o=d[e]||0,t=3==o?t?u.win.outerHeight()-u.win.innerHeight():u.win.outerWidth()-u.win.innerWidth():1,u.isie8&&o&&(o+=1),t?o:0):o}function n(t,i,n,o){u._bind(t,i,function(o){var e={original:o=o||window.event,target:o.target||o.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==o.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},stopImmediatePropagation:function(){o.stopImmediatePropagation?o.stopImmediatePropagation():o.cancelBubble=!0}};return"mousewheel"==i?(o.wheelDeltaX&&(e.deltaX=-.025*o.wheelDeltaX),o.wheelDeltaY&&(e.deltaY=-.025*o.wheelDeltaY),e.deltaY||e.deltaX||(e.deltaY=-.025*o.wheelDelta)):e.deltaY=o.detail,n.call(t,e)},o)}function i(o,e,t){var i,n;if(0==o.deltaMode?(i=-Math.floor(u.opt.mousescrollstep/54*o.deltaX),n=-Math.floor(u.opt.mousescrollstep/54*o.deltaY)):1==o.deltaMode&&(i=-Math.floor(o.deltaX*u.opt.mousescrollstep),n=-Math.floor(o.deltaY*u.opt.mousescrollstep)),e&&u.opt.oneaxismousemode&&0==i&&n&&(i=n,n=0,t&&(i<0?u.getScrollLeft()>=u.page.maxw:u.getScrollLeft()<=0)&&(n=i,i=0)),u.isrtlmode&&(i=-i),i&&(u.scrollmom&&u.scrollmom.stop(),u.lastdeltax+=i,u.debounced("mousewheelx",function(){var o=u.lastdeltax;u.lastdeltax=0,u.rail.drag||u.doScrollLeftBy(o)},15)),n){if(u.opt.nativeparentscrolling&&t&&!u.ispage&&!u.zoomactive)if(n<0){if(u.getScrollTop()>=u.page.maxh)return!0}else if(u.getScrollTop()<=0)return!0;u.scrollmom&&u.scrollmom.stop(),u.lastdeltay+=n,u.synched("mousewheely",function(){var o=u.lastdeltay;u.lastdeltay=0,u.rail.drag||u.doScrollBy(o)},15)}return o.stopImmediatePropagation(),o.preventDefault()}var u=this;if(this.version="3.6.8",this.name="nicescroll",this.me=e,this.opt={doc:p("body"),win:!1},p.extend(this.opt,S),this.opt.snapbackspeed=80,o)for(var a in u.opt)void 0!==o[a]&&(u.opt[a]=o[a]);if(u.opt.disablemutationobserver&&(T=!1),this.iddoc=(this.doc=u.opt.doc)&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(u.opt.win?u.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==u.opt.win,this.win=u.opt.win||(this.ispage?p(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?p(window):this.win,this.body=p("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=u.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==this.opt.rtlmode){var s=(a=this.win[0]==window?this.body:this.win).css("writing-mode")||a.css("-webkit-writing-mode")||a.css("-ms-writing-mode")||a.css("-moz-writing-mode");this.isvertical="horizontal-tb"==s||"lr-tb"==s||""==s?(this.isrtlmode="rtl"==a.css("direction"),!1):(this.isrtlmode="vertical-rl"==s||"tb"==s||"tb-rl"==s||"rl-tb"==s,"vertical-rl"==s||"tb"==s||"tb-rl"==s)}else this.isrtlmode=!0===this.opt.rtlmode,this.isvertical=!1;for(this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;this.id="ascrail"+v++,document.getElementById(this.id););this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=this.railslocked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=u.opt.overflowx,this.overflowy=u.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=function(){if(k)return k;var o=document.createElement("DIV"),e=o.style,t=navigator.userAgent,i=navigator.platform,n={haspointerlock:"pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document};n.isopera="opera"in window,n.isopera12=n.isopera&&"getUserMedia"in navigator,n.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),n.isie="all"in document&&"attachEvent"in o&&!n.isopera,n.isieold=n.isie&&!("msInterpolationMode"in e),n.isie7=n.isie&&!n.isieold&&(!("documentMode"in document)||7==document.documentMode),n.isie8=n.isie&&"documentMode"in document&&8==document.documentMode,n.isie9=n.isie&&"performance"in window&&9==document.documentMode,n.isie10=n.isie&&"performance"in window&&10==document.documentMode,n.isie11="msRequestFullscreen"in o&&11<=document.documentMode,n.isieedge12=navigator.userAgent.match(/Edge\/12\./),n.isieedge="msOverflowStyle"in o,n.ismodernie=n.isie11||n.isieedge,n.isie9mobile=/iemobile.9/i.test(t),n.isie9mobile&&(n.isie9=!1),n.isie7mobile=!n.isie9mobile&&n.isie7&&/iemobile/i.test(t),n.ismozilla="MozAppearance"in e,n.iswebkit="WebkitAppearance"in e,n.ischrome="chrome"in window,n.ischrome38=n.ischrome&&"touchAction"in e,n.ischrome22=!n.ischrome38&&n.ischrome&&n.haspointerlock,n.ischrome26=!n.ischrome38&&n.ischrome&&"transition"in e,n.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,n.hasw3ctouch=!!window.PointerEvent&&(0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints),n.hasmstouch=!n.hasw3ctouch&&(window.MSPointerEvent||!1),n.ismac=/^mac$/i.test(i),n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(i),n.isios4=n.isios&&!("seal"in Object),n.isios7=n.isios&&"webkitHidden"in document,n.isios8=n.isios&&"hidden"in document,n.isandroid=/android/i.test(t),n.haseventlistener="addEventListener"in o,n.trstyle=!1,n.hastransform=!1,n.hastranslate3d=!1,n.transitionstyle=!1,n.hastransition=!1,n.transitionend=!1,i=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(t=0;t<i.length;t++)if(void 0!==e[i[t]]){n.trstyle=i[t];break}n.hastransform=!!n.trstyle,n.hastransform&&(e[n.trstyle]="translate3d(1px,2px,3px)",n.hastranslate3d=/translate3d/.test(e[n.trstyle])),n.transitionstyle=!1,n.prefixstyle="",n.transitionend=!1;for(var i="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),r=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),a="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),t=0;t<i.length;t++)if(i[t]in e){n.transitionstyle=i[t],n.prefixstyle=r[t],n.transitionend=a[t];break}n.ischrome26&&(n.prefixstyle=r[1]),n.hastransition=n.transitionstyle;o:{for(t=["grab","-webkit-grab","-moz-grab"],(n.ischrome&&!n.ischrome38||n.isie)&&(t=[]),i=0;i<t.length;i++)if(r=t[i],e.cursor=r,e.cursor==r){e=r;break o}e="url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"}return n.cursorgrabvalue=e,n.hasmousecapture="setCapture"in o,n.hasMutationObserver=!1!==T,k=n}();var m=p.extend({},this.detected);this.ishwscroll=(this.canhwscroll=m.hastransform&&u.opt.hwacceleration)&&u.haswrapper,this.hasreversehr=!(!this.isrtlmode||(this.isvertical?m.iswebkit||m.isie||m.isie11:m.iswebkit||m.isie&&!m.isie10&&!m.isie11)),this.istouchcapable=!1,(m.cantouch||!m.hasw3ctouch&&!m.hasmstouch)&&(!m.cantouch||m.isios||m.isandroid||!m.iswebkit&&!m.ismozilla)||(this.istouchcapable=!0),u.opt.enablemouselockapi||(m.hasmousecapture=!1,m.haspointerlock=!1);var l=!(this.debounced=function(o,e,t){u&&(u.delaylist[o]||(e.call(u),u.delaylist[o]={h:y(function(){u.delaylist[o].fn.call(u),u.delaylist[o]=!1},t)}),u.delaylist[o].fn=e)});this.synched=function(o,e){return u.synclist[o]=e,l||(y(function(){if(u)for(var o in l=!1,u.synclist){var e=u.synclist[o];e&&e.call(u),u.synclist[o]=!1}}),l=!0),o},this.unsynched=function(o){u.synclist[o]&&(u.synclist[o]=!1)},this.css=function(o,e){for(var t in e)u.saved.css.push([o,t,o.css(t)]),o.css(t,e[t])},this.scrollTop=function(o){return void 0===o?u.getScrollTop():u.setScrollTop(o)},this.scrollLeft=function(o){return void 0===o?u.getScrollLeft():u.setScrollLeft(o)};var c=function(o,e,t,i,n,r,a){this.st=o,this.ed=e,this.spd=t,this.p1=i||0,this.p2=n||1,this.p3=r||0,this.p4=a||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(c.prototype={B2:function(o){return 3*o*o*(1-o)},B3:function(o){return 3*o*(1-o)*(1-o)},B4:function(o){return(1-o)*(1-o)*(1-o)},getNow:function(){var o=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(o)+this.B3(o)+this.B4(o);return o<0?this.ed:this.st+Math.round(this.df*e)},update:function(o,e){return this.st=this.getNow(),this.ed=o,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},m.hastranslate3d&&m.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(o){if(!o){if(o=t())return 16==o.length?-o[13]:-o[5];if(u.timerscroll&&u.timerscroll.bz)return u.timerscroll.bz.getNow()}return u.doc.translate.y},this.getScrollLeft=function(o){if(!o){if(o=t())return 16==o.length?-o[12]:-o[4];if(u.timerscroll&&u.timerscroll.bh)return u.timerscroll.bh.getNow()}return u.doc.translate.x},this.notifyScrollEvent=function(o){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),e.niceevent=!0,o.dispatchEvent(e)};var h=this.isrtlmode?1:-1;m.hastranslate3d&&u.opt.enabletranslate3d?(this.setScrollTop=function(o,e){u.doc.translate.y=o,u.doc.translate.ty=-1*o+"px",u.doc.css(m.trstyle,"translate3d("+u.doc.translate.tx+","+u.doc.translate.ty+",0px)"),e||u.notifyScrollEvent(u.win[0])},this.setScrollLeft=function(o,e){u.doc.translate.x=o,u.doc.translate.tx=o*h+"px",u.doc.css(m.trstyle,"translate3d("+u.doc.translate.tx+","+u.doc.translate.ty+",0px)"),e||u.notifyScrollEvent(u.win[0])}):(this.setScrollTop=function(o,e){u.doc.translate.y=o,u.doc.translate.ty=-1*o+"px",u.doc.css(m.trstyle,"translate("+u.doc.translate.tx+","+u.doc.translate.ty+")"),e||u.notifyScrollEvent(u.win[0])},this.setScrollLeft=function(o,e){u.doc.translate.x=o,u.doc.translate.tx=o*h+"px",u.doc.css(m.trstyle,"translate("+u.doc.translate.tx+","+u.doc.translate.ty+")"),e||u.notifyScrollEvent(u.win[0])})}else this.getScrollTop=function(){return u.docscroll.scrollTop()},this.setScrollTop=function(o){return setTimeout(function(){u&&u.docscroll.scrollTop(o)},1)},this.getScrollLeft=function(){return u.hasreversehr?u.detected.ismozilla?u.page.maxw-Math.abs(u.docscroll.scrollLeft()):u.page.maxw-u.docscroll.scrollLeft():u.docscroll.scrollLeft()},this.setScrollLeft=function(o){return setTimeout(function(){if(u)return u.hasreversehr&&(o=u.detected.ismozilla?-(u.page.maxw-o):u.page.maxw-o),u.docscroll.scrollLeft(o)},1)};this.getTarget=function(o){return!!o&&(o.target?o.target:!!o.srcElement&&o.srcElement)},this.hasParent=function(o,e){if(!o)return!1;for(var t=o.target||o.srcElement||o||!1;t&&t.id!=e;)t=t.parentNode||!1;return!1!==t};var d={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(u.isfixed){var o=u.win.offset(),e=u.getDocumentScrollOffset();return o.top-=e.top,o.left-=e.left,o}return o=u.win.offset(),u.viewport?(e=u.viewport.offset(),{top:o.top-e.top,left:o.left-e.left}):o},this.updateScrollBar=function(o){var e,t,i;if(u.ishwscroll)u.rail.css({height:u.win.innerHeight()-(u.opt.railpadding.top+u.opt.railpadding.bottom)}),u.railh&&u.railh.css({width:u.win.innerWidth()-(u.opt.railpadding.left+u.opt.railpadding.right)});else{var n=u.getOffset();e=n.top,t=n.left-(u.opt.railpadding.left+u.opt.railpadding.right),e+=r(u.win,"border-top-width",!0),t+=u.rail.align?u.win.outerWidth()-r(u.win,"border-right-width")-u.rail.width:r(u.win,"border-left-width"),(i=u.opt.railoffset)&&(i.top&&(e+=i.top),i.left&&(t+=i.left)),u.railslocked||u.rail.css({top:e,left:t,height:(o?o.h:u.win.innerHeight())-(u.opt.railpadding.top+u.opt.railpadding.bottom)}),u.zoom&&u.zoom.css({top:e+1,left:1==u.rail.align?t-20:t+u.rail.width+4}),u.railh&&!u.railslocked&&(e=n.top,t=n.left,(i=u.opt.railhoffset)&&(i.top&&(e+=i.top),i.left&&(t+=i.left)),o=u.railh.align?e+r(u.win,"border-top-width",!0)+u.win.innerHeight()-u.railh.height:e+r(u.win,"border-top-width",!0),t+=r(u.win,"border-left-width"),u.railh.css({top:o-(u.opt.railpadding.top+u.opt.railpadding.bottom),left:t,width:u.railh.width}))}},this.doRailClick=function(o,e,t){var i;u.railslocked||(u.cancelEvent(o),e?(e=t?u.doScrollLeft:u.doScrollTop,i=t?(o.pageX-u.railh.offset().left-u.cursorwidth/2)*u.scrollratio.x:(o.pageY-u.rail.offset().top-u.cursorheight/2)*u.scrollratio.y,e(i)):(e=t?u.doScrollLeftBy:u.doScrollBy,i=t?u.scroll.x:u.scroll.y,o=t?o.pageX-u.railh.offset().left:o.pageY-u.rail.offset().top,t=t?u.view.w:u.view.h,e(o<=i?t:-t)))},u.hasanimationframe=y,u.hascancelanimationframe=x,u.hasanimationframe?u.hascancelanimationframe||(x=function(){u.cancelAnimationFrame=!0}):(y=function(o){return setTimeout(o,15-Math.floor(+new Date/1e3)%16)},x=clearTimeout),this.init=function(){if(u.saved.css=[],m.isie7mobile||m.isoperamini)return!0;m.hasmstouch&&u.css(u.ispage?p("html"):u.win,{_touchaction:"none"});var t=m.ismodernie||m.isie10?{"-ms-overflow-style":"none"}:{"overflow-y":"hidden"};if(u.zindex="auto",u.zindex=u.ispage||"auto"!=u.opt.zindex?u.opt.zindex:function(){var o=u.win;if("zIndex"in o)return o.zIndex();for(;0<o.length&&9!=o[0].nodeType;){var e=o.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);o=o.parent()}return!1}()||"auto",!u.ispage&&"auto"!=u.zindex&&u.zindex>b&&(b=u.zindex),u.isie&&0==u.zindex&&"auto"==u.opt.zindex&&(u.zindex="auto"),!u.ispage||!m.cantouch&&!m.isieold&&!m.isie9mobile){var o=u.docscroll;u.ispage&&(o=u.haswrapper?u.win:u.doc),m.isie9mobile||u.css(o,t),u.ispage&&m.isie7&&("BODY"==u.doc[0].nodeName?u.css(p("html"),{"overflow-y":"hidden"}):"HTML"==u.doc[0].nodeName&&u.css(p("body"),t)),!m.isios||u.ispage||u.haswrapper||u.css(p("body"),{"-webkit-overflow-scrolling":"touch"});var e=p(document.createElement("div"));e.css({position:"relative",top:0,float:"right",width:u.opt.cursorwidth,height:0,"background-color":u.opt.cursorcolor,border:u.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":u.opt.cursorborderradius,"-moz-border-radius":u.opt.cursorborderradius,"border-radius":u.opt.cursorborderradius}),e.hborder=parseFloat(e.outerHeight()-e.innerHeight()),e.addClass("nicescroll-cursors"),u.cursor=e;var i=p(document.createElement("div"));i.attr("id",u.id),i.addClass("nicescroll-rails nicescroll-rails-vr");var n,r,a,s,l=["left","right","top","bottom"];for(a in l)r=l[a],(n=u.opt.railpadding[r])?i.css("padding-"+r,n+"px"):u.opt.railpadding[r]=0;if(i.append(e),i.width=Math.max(parseFloat(u.opt.cursorwidth),e.outerWidth()),i.css({width:i.width+"px",zIndex:u.zindex,background:u.opt.background,cursor:"default"}),i.visibility=!0,i.scrollable=!0,i.align="left"==u.opt.railalign?0:1,u.rail=i,e=u.rail.drag=!1,!u.opt.boxzoom||u.ispage||m.isieold||(e=document.createElement("div"),u.bind(e,"click",u.doZoom),u.bind(e,"mouseenter",function(){u.zoom.css("opacity",u.opt.cursoropacitymax)}),u.bind(e,"mouseleave",function(){u.zoom.css("opacity",u.opt.cursoropacitymin)}),u.zoom=p(e),u.zoom.css({cursor:"pointer",zIndex:u.zindex,backgroundImage:"url("+u.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),u.opt.dblclickzoom&&u.bind(u.win,"dblclick",u.doZoom),m.cantouch&&u.opt.gesturezoom&&(u.ongesturezoom=function(o){return 1.5<o.scale&&u.doZoomIn(o),o.scale<.8&&u.doZoomOut(o),u.cancelEvent(o)},u.bind(u.win,"gestureend",u.ongesturezoom))),u.railh=!1,u.opt.horizrailenabled&&(u.css(o,{overflowX:"hidden"}),(e=p(document.createElement("div"))).css({position:"absolute",top:0,height:u.opt.cursorwidth,width:0,backgroundColor:u.opt.cursorcolor,border:u.opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":u.opt.cursorborderradius,"-moz-border-radius":u.opt.cursorborderradius,"border-radius":u.opt.cursorborderradius}),m.isieold&&e.css("overflow","hidden"),e.wborder=parseFloat(e.outerWidth()-e.innerWidth()),e.addClass("nicescroll-cursors"),u.cursorh=e,(s=p(document.createElement("div"))).attr("id",u.id+"-hr"),s.addClass("nicescroll-rails nicescroll-rails-hr"),s.height=Math.max(parseFloat(u.opt.cursorwidth),e.outerHeight()),s.css({height:s.height+"px",zIndex:u.zindex,background:u.opt.background}),s.append(e),s.visibility=!0,s.scrollable=!0,s.align="top"==u.opt.railvalign?0:1,u.railh=s,u.railh.drag=!1),u.ispage?(i.css({position:"fixed",top:0,height:"100%"}),i.align?i.css({right:0}):i.css({left:0}),u.body.append(i),u.railh&&(s.css({position:"fixed",left:0,width:"100%"}),s.align?s.css({bottom:0}):s.css({top:0}),u.body.append(s))):(u.ishwscroll?("static"==u.win.css("position")&&u.css(u.win,{position:"relative"}),o="HTML"==u.win[0].nodeName?u.body:u.win,p(o).scrollTop(0).scrollLeft(0),u.zoom&&(u.zoom.css({position:"absolute",top:1,right:0,"margin-right":i.width+4}),o.append(u.zoom)),i.css({position:"absolute",top:0}),i.align?i.css({right:0}):i.css({left:0}),o.append(i),s&&(s.css({position:"absolute",left:0,bottom:0}),s.align?s.css({bottom:0}):s.css({top:0}),o.append(s))):(u.isfixed="fixed"==u.win.css("position"),o=u.isfixed?"fixed":"absolute",u.isfixed||(u.viewport=u.getViewport(u.win[0])),u.viewport&&(u.body=u.viewport,0==/fixed|absolute/.test(u.viewport.css("position"))&&u.css(u.viewport,{position:"relative"})),i.css({position:o}),u.zoom&&u.zoom.css({position:o}),u.updateScrollBar(),u.body.append(i),u.zoom&&u.body.append(u.zoom),u.railh&&(s.css({position:o}),u.body.append(s))),m.isios&&u.css(u.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),m.isie&&u.opt.disableoutline&&u.win.attr("hideFocus","true"),m.iswebkit&&u.opt.disableoutline&&u.win.css("outline","none")),!1===u.opt.autohidemode?(u.autohidedom=!1,u.rail.css({opacity:u.opt.cursoropacitymax}),u.railh&&u.railh.css({opacity:u.opt.cursoropacitymax})):!0===u.opt.autohidemode||"leave"===u.opt.autohidemode?(u.autohidedom=p().add(u.rail),m.isie8&&(u.autohidedom=u.autohidedom.add(u.cursor)),u.railh&&(u.autohidedom=u.autohidedom.add(u.railh)),u.railh&&m.isie8&&(u.autohidedom=u.autohidedom.add(u.cursorh))):"scroll"==u.opt.autohidemode?(u.autohidedom=p().add(u.rail),u.railh&&(u.autohidedom=u.autohidedom.add(u.railh))):"cursor"==u.opt.autohidemode?(u.autohidedom=p().add(u.cursor),u.railh&&(u.autohidedom=u.autohidedom.add(u.cursorh))):"hidden"==u.opt.autohidemode&&(u.autohidedom=!1,u.hide(),u.railslocked=!1),m.isie9mobile)u.scrollmom=new H(u),u.onmangotouch=function(){var o=u.getScrollTop(),e=u.getScrollLeft();if(o==u.scrollmom.lastscrolly&&e==u.scrollmom.lastscrollx)return!0;var t=o-u.mangotouch.sy,i=e-u.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(t,2)))){var n=t<0?-1:1,r=i<0?-1:1,a=+new Date;u.mangotouch.lazy&&clearTimeout(u.mangotouch.lazy),80<a-u.mangotouch.tm||u.mangotouch.dry!=n||u.mangotouch.drx!=r?(u.scrollmom.stop(),u.scrollmom.reset(e,o),u.mangotouch.sy=o,u.mangotouch.ly=o,u.mangotouch.sx=e,u.mangotouch.lx=e,u.mangotouch.dry=n,u.mangotouch.drx=r,u.mangotouch.tm=a):(u.scrollmom.stop(),u.scrollmom.update(u.mangotouch.sx-i,u.mangotouch.sy-t),u.mangotouch.tm=a,t=Math.max(Math.abs(u.mangotouch.ly-o),Math.abs(u.mangotouch.lx-e)),u.mangotouch.ly=o,u.mangotouch.lx=e,2<t&&(u.mangotouch.lazy=setTimeout(function(){u.mangotouch.lazy=!1,u.mangotouch.dry=0,u.mangotouch.drx=0,u.mangotouch.tm=0,u.scrollmom.doMomentum(30)},100)))}},i=u.getScrollTop(),s=u.getScrollLeft(),u.mangotouch={sy:i,ly:i,dry:0,sx:s,lx:s,drx:0,lazy:!1,tm:0},u.bind(u.docscroll,"scroll",u.onmangotouch);else{if(m.cantouch||u.istouchcapable||u.opt.touchbehavior||m.hasmstouch){u.scrollmom=new H(u),u.ontouchstart=function(o){if(o.pointerType&&2!=o.pointerType&&"touch"!=o.pointerType)return!1;if(u.hasmoving=!1,!u.railslocked){var e;if(m.hasmstouch)for(e=!!o.target&&o.target;e;){var t=p(e).getNiceScroll();if(0<t.length&&t[0].me==u.me)break;if(0<t.length)return!1;if("DIV"==e.nodeName&&e.id==u.id)break;e=!!e.parentNode&&e.parentNode}if(u.cancelScroll(),(e=u.getTarget(o))&&/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return u.stopPropagation(o);if(!("clientX"in o)&&"changedTouches"in o&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),u.forcescreen&&((o={original:(t=o).original?o.original:o}).clientX=t.screenX,o.clientY=t.screenY),u.rail.drag={x:o.clientX,y:o.clientY,sx:u.scroll.x,sy:u.scroll.y,st:u.getScrollTop(),sl:u.getScrollLeft(),pt:2,dl:!1},u.ispage||!u.opt.directionlockdeadzone)u.rail.drag.dl="f";else{var t=p(window).width(),i=p(window).height(),i=Math.max(0,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-i),t=Math.max(0,Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)-t);u.rail.drag.ck=!u.rail.scrollable&&u.railh.scrollable?0<i&&"v":!(!u.rail.scrollable||u.railh.scrollable)&&0<t&&"h",u.rail.drag.ck||(u.rail.drag.dl="f")}if(u.opt.touchbehavior&&u.isiframe&&m.isie&&(t=u.win.position(),u.rail.drag.x+=t.left,u.rail.drag.y+=t.top),u.hasmoving=!1,u.lastmouseup=!1,u.scrollmom.reset(o.clientX,o.clientY),!m.cantouch&&!this.istouchcapable&&!o.pointerType){if(!e||!/INPUT|SELECT|TEXTAREA/i.test(e.nodeName))return!u.ispage&&m.hasmousecapture&&e.setCapture(),u.opt.touchbehavior?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(o){if(u.hasmoving)return!1;e._onclick.call(this,o)}),u.cancelEvent(o)):u.stopPropagation(o);/SUBMIT|CANCEL|BUTTON/i.test(p(e).attr("type"))&&(pc={tg:e,click:!1},u.preventclick=pc)}}},u.ontouchend=function(o){if(!u.rail.drag)return!0;if(2==u.rail.drag.pt){if(o.pointerType&&2!=o.pointerType&&"touch"!=o.pointerType)return!1;if(u.scrollmom.doMomentum(),u.rail.drag=!1,u.hasmoving&&(u.lastmouseup=!0,u.hideCursor(),m.hasmousecapture&&document.releaseCapture(),!m.cantouch))return u.cancelEvent(o)}else if(1==u.rail.drag.pt)return u.onmouseup(o)};var h=u.opt.touchbehavior&&u.isiframe&&!m.hasmousecapture;u.ontouchmove=function(o,e){if(!u.rail.drag||o.targetTouches&&u.opt.preventmultitouchscrolling&&1<o.targetTouches.length||o.pointerType&&2!=o.pointerType&&"touch"!=o.pointerType)return!1;if(2==u.rail.drag.pt){if(m.cantouch&&m.isios&&void 0===o.original)return!0;if(u.hasmoving=!0,u.preventclick&&!u.preventclick.click&&(u.preventclick.click=u.preventclick.tg.onclick||!1,u.preventclick.tg.onclick=u.onpreventclick),"changedTouches"in(o=p.extend({original:o},o))&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),u.forcescreen){var t=o;(o={original:o.original?o.original:o}).clientX=t.screenX,o.clientY=t.screenY}var i,t=i=0;h&&!e&&(i=u.win.position(),t=-i.left,i=-i.top);var n=o.clientY+i;i=n-u.rail.drag.y;var r,a=o.clientX+t,s=a-u.rail.drag.x,l=u.rail.drag.st-i;if(u.ishwscroll&&u.opt.bouncescroll?l<0?l=Math.round(l/2):l>u.page.maxh&&(l=u.page.maxh+Math.round((l-u.page.maxh)/2)):(l<0&&(n=l=0),l>u.page.maxh&&(l=u.page.maxh,n=0)),u.railh&&u.railh.scrollable&&(r=u.isrtlmode?s-u.rail.drag.sl:u.rail.drag.sl-s,u.ishwscroll&&u.opt.bouncescroll?r<0?r=Math.round(r/2):r>u.page.maxw&&(r=u.page.maxw+Math.round((r-u.page.maxw)/2)):(r<0&&(a=r=0),r>u.page.maxw&&(r=u.page.maxw,a=0))),t=!1,u.rail.drag.dl)t=!0,"v"==u.rail.drag.dl?r=u.rail.drag.sl:"h"==u.rail.drag.dl&&(l=u.rail.drag.st);else{i=Math.abs(i);var s=Math.abs(s),c=u.opt.directionlockdeadzone;if("v"==u.rail.drag.ck){if(c<i&&s<=.3*i)return!(u.rail.drag=!1);c<s&&(u.rail.drag.dl="f",p("body").scrollTop(p("body").scrollTop()))}else if("h"==u.rail.drag.ck){if(c<s&&i<=.3*s)return!(u.rail.drag=!1);c<i&&(u.rail.drag.dl="f",p("body").scrollLeft(p("body").scrollLeft()))}}if(u.synched("touchmove",function(){u.rail.drag&&2==u.rail.drag.pt&&(u.prepareTransition&&u.prepareTransition(0),u.rail.scrollable&&u.setScrollTop(l),u.scrollmom.update(a,n),u.railh&&u.railh.scrollable?(u.setScrollLeft(r),u.showCursor(l,r)):u.showCursor(l),m.isie10&&document.selection.clear())}),m.ischrome&&u.istouchcapable&&(t=!1),t)return u.cancelEvent(o)}else if(1==u.rail.drag.pt)return u.onmousemove(o)}}u.onmousedown=function(o,e){if(!u.rail.drag||1==u.rail.drag.pt){if(u.railslocked)return u.cancelEvent(o);u.cancelScroll(),u.rail.drag={x:o.clientX,y:o.clientY,sx:u.scroll.x,sy:u.scroll.y,pt:1,hr:!!e};var t=u.getTarget(o);return!u.ispage&&m.hasmousecapture&&t.setCapture(),u.isiframe&&!m.hasmousecapture&&(u.saved.csspointerevents=u.doc.css("pointer-events"),u.css(u.doc,{"pointer-events":"none"})),u.hasmoving=!1,u.cancelEvent(o)}},u.onmouseup=function(o){if(u.rail.drag)return 1!=u.rail.drag.pt||(m.hasmousecapture&&document.releaseCapture(),u.isiframe&&!m.hasmousecapture&&u.doc.css("pointer-events",u.saved.csspointerevents),u.rail.drag=!1,u.hasmoving&&u.triggerScrollEnd(),u.cancelEvent(o))},u.onmousemove=function(o){if(u.rail.drag){if(1==u.rail.drag.pt){if(m.ischrome&&0==o.which)return u.onmouseup(o);if(u.cursorfreezed=!0,u.hasmoving=!0,u.rail.drag.hr){u.scroll.x=u.rail.drag.sx+(o.clientX-u.rail.drag.x),u.scroll.x<0&&(u.scroll.x=0);var e=u.scrollvaluemaxw;u.scroll.x>e&&(u.scroll.x=e)}else u.scroll.y=u.rail.drag.sy+(o.clientY-u.rail.drag.y),u.scroll.y<0&&(u.scroll.y=0),e=u.scrollvaluemax,u.scroll.y>e&&(u.scroll.y=e);return u.synched("mousemove",function(){u.rail.drag&&1==u.rail.drag.pt&&(u.showCursor(),u.rail.drag.hr?u.hasreversehr?u.doScrollLeft(u.scrollvaluemaxw-Math.round(u.scroll.x*u.scrollratio.x),u.opt.cursordragspeed):u.doScrollLeft(Math.round(u.scroll.x*u.scrollratio.x),u.opt.cursordragspeed):u.doScrollTop(Math.round(u.scroll.y*u.scrollratio.y),u.opt.cursordragspeed))}),u.cancelEvent(o)}}else u.checkarea=0},m.cantouch||u.opt.touchbehavior?(u.onpreventclick=function(o){if(u.preventclick)return u.preventclick.tg.onclick=u.preventclick.click,u.preventclick=!1,u.cancelEvent(o)},u.bind(u.win,"mousedown",u.ontouchstart),u.onclick=!m.isios&&function(o){return!u.lastmouseup||(u.lastmouseup=!1,u.cancelEvent(o))},u.opt.grabcursorenabled&&m.cursorgrabvalue&&(u.css(u.ispage?u.doc:u.win,{cursor:m.cursorgrabvalue}),u.css(u.rail,{cursor:m.cursorgrabvalue}))):(u.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},u.onselectionstart=function(o){u.ispage||(u.selectiondrag=u.win.offset())},u.onselectionend=function(o){u.selectiondrag=!1},u.onselectiondrag=function(o){u.selectiondrag&&u.hasTextSelected()&&u.debounced("selectionscroll",function(){!function o(e){if(u.selectiondrag){if(e){var t=u.win.outerHeight();0<(e=e.pageY-u.selectiondrag.top)&&e<t&&(e=0),t<=e&&(e-=t),u.selectiondrag.df=e}0!=u.selectiondrag.df&&(u.doScrollBy(2*-Math.floor(u.selectiondrag.df/6)),u.debounced("doselectionscroll",function(){o()},50))}}(o)},250)}),m.hasw3ctouch?(u.css(u.rail,{"touch-action":"none"}),u.css(u.cursor,{"touch-action":"none"}),u.bind(u.win,"pointerdown",u.ontouchstart),u.bind(document,"pointerup",u.ontouchend),u.bind(document,"pointermove",u.ontouchmove)):m.hasmstouch?(u.css(u.rail,{"-ms-touch-action":"none"}),u.css(u.cursor,{"-ms-touch-action":"none"}),u.bind(u.win,"MSPointerDown",u.ontouchstart),u.bind(document,"MSPointerUp",u.ontouchend),u.bind(document,"MSPointerMove",u.ontouchmove),u.bind(u.cursor,"MSGestureHold",function(o){o.preventDefault()}),u.bind(u.cursor,"contextmenu",function(o){o.preventDefault()})):this.istouchcapable&&(u.bind(u.win,"touchstart",u.ontouchstart),u.bind(document,"touchend",u.ontouchend),u.bind(document,"touchcancel",u.ontouchend),u.bind(document,"touchmove",u.ontouchmove)),(u.opt.cursordragontouch||!m.cantouch&&!u.opt.touchbehavior)&&(u.rail.css({cursor:"default"}),u.railh&&u.railh.css({cursor:"default"}),u.jqbind(u.rail,"mouseenter",function(){if(!u.ispage&&!u.win.is(":visible"))return!1;u.canshowonmouseevent&&u.showCursor(),u.rail.active=!0}),u.jqbind(u.rail,"mouseleave",function(){u.rail.active=!1,u.rail.drag||u.hideCursor()}),u.opt.sensitiverail&&(u.bind(u.rail,"click",function(o){u.doRailClick(o,!1,!1)}),u.bind(u.rail,"dblclick",function(o){u.doRailClick(o,!0,!1)}),u.bind(u.cursor,"click",function(o){u.cancelEvent(o)}),u.bind(u.cursor,"dblclick",function(o){u.cancelEvent(o)})),u.railh&&(u.jqbind(u.railh,"mouseenter",function(){if(!u.ispage&&!u.win.is(":visible"))return!1;u.canshowonmouseevent&&u.showCursor(),u.rail.active=!0}),u.jqbind(u.railh,"mouseleave",function(){u.rail.active=!1,u.rail.drag||u.hideCursor()}),u.opt.sensitiverail&&(u.bind(u.railh,"click",function(o){u.doRailClick(o,!1,!0)}),u.bind(u.railh,"dblclick",function(o){u.doRailClick(o,!0,!0)}),u.bind(u.cursorh,"click",function(o){u.cancelEvent(o)}),u.bind(u.cursorh,"dblclick",function(o){u.cancelEvent(o)})))),m.cantouch||u.opt.touchbehavior?(u.bind(m.hasmousecapture?u.win:document,"mouseup",u.ontouchend),u.bind(document,"mousemove",u.ontouchmove),u.onclick&&u.bind(document,"click",u.onclick),u.opt.cursordragontouch?(u.bind(u.cursor,"mousedown",u.onmousedown),u.bind(u.cursor,"mouseup",u.onmouseup),u.cursorh&&u.bind(u.cursorh,"mousedown",function(o){u.onmousedown(o,!0)}),u.cursorh&&u.bind(u.cursorh,"mouseup",u.onmouseup)):(u.bind(u.rail,"mousedown",function(o){o.preventDefault()}),u.railh&&u.bind(u.railh,"mousedown",function(o){o.preventDefault()}))):(u.bind(m.hasmousecapture?u.win:document,"mouseup",u.onmouseup),u.bind(document,"mousemove",u.onmousemove),u.onclick&&u.bind(document,"click",u.onclick),u.bind(u.cursor,"mousedown",u.onmousedown),u.bind(u.cursor,"mouseup",u.onmouseup),u.railh&&(u.bind(u.cursorh,"mousedown",function(o){u.onmousedown(o,!0)}),u.bind(u.cursorh,"mouseup",u.onmouseup)),!u.ispage&&u.opt.enablescrollonselection&&(u.bind(u.win[0],"mousedown",u.onselectionstart),u.bind(document,"mouseup",u.onselectionend),u.bind(u.cursor,"mouseup",u.onselectionend),u.cursorh&&u.bind(u.cursorh,"mouseup",u.onselectionend),u.bind(document,"mousemove",u.onselectiondrag)),u.zoom&&(u.jqbind(u.zoom,"mouseenter",function(){u.canshowonmouseevent&&u.showCursor(),u.rail.active=!0}),u.jqbind(u.zoom,"mouseleave",function(){u.rail.active=!1,u.rail.drag||u.hideCursor()}))),u.opt.enablemousewheel&&(u.isiframe||u.mousewheel(m.isie&&u.ispage?document:u.win,u.onmousewheel),u.mousewheel(u.rail,u.onmousewheel),u.railh&&u.mousewheel(u.railh,u.onmousewheelhr)),u.ispage||m.cantouch||/HTML|^BODY/.test(u.win[0].nodeName)||(u.win.attr("tabindex")||u.win.attr({tabindex:w++}),u.jqbind(u.win,"focus",function(o){g=u.getTarget(o).id||!0,u.hasfocus=!0,u.canshowonmouseevent&&u.noticeCursor()}),u.jqbind(u.win,"blur",function(o){g=!1,u.hasfocus=!1}),u.jqbind(u.win,"mouseenter",function(o){f=u.getTarget(o).id||!0,u.hasmousefocus=!0,u.canshowonmouseevent&&u.noticeCursor()}),u.jqbind(u.win,"mouseleave",function(){f=!1,u.hasmousefocus=!1,u.rail.drag||u.hideCursor()}))}if(u.onkeypress=function(o){if(u.railslocked&&0==u.page.maxh)return!0;o=o||window.e;var e=u.getTarget(o);if(e&&/INPUT|TEXTAREA|SELECT|OPTION/.test(e.nodeName)&&(!e.getAttribute("type")&&!e.type||!/submit|button|cancel/i.tp)||p(e).attr("contenteditable"))return!0;if(u.hasfocus||u.hasmousefocus&&!g||u.ispage&&!g&&!f){if(e=o.keyCode,u.railslocked&&27!=e)return u.cancelEvent(o);var t=o.ctrlKey||!1,i=o.shiftKey||!1,n=!1;switch(e){case 38:case 63233:u.doScrollBy(72),n=!0;break;case 40:case 63235:u.doScrollBy(-72),n=!0;break;case 37:case 63232:u.railh&&(t?u.doScrollLeft(0):u.doScrollLeftBy(72),n=!0);break;case 39:case 63234:u.railh&&(t?u.doScrollLeft(u.page.maxw):u.doScrollLeftBy(-72),n=!0);break;case 33:case 63276:u.doScrollBy(u.view.h),n=!0;break;case 34:case 63277:u.doScrollBy(-u.view.h),n=!0;break;case 36:case 63273:u.railh&&t?u.doScrollPos(0,0):u.doScrollTo(0),n=!0;break;case 35:case 63275:u.railh&&t?u.doScrollPos(u.page.maxw,u.page.maxh):u.doScrollTo(u.page.maxh),n=!0;break;case 32:u.opt.spacebarenabled&&(i?u.doScrollBy(u.view.h):u.doScrollBy(-u.view.h),n=!0);break;case 27:u.zoomactive&&(u.doZoom(),n=!0)}if(n)return u.cancelEvent(o)}},u.opt.enablekeyboard&&u.bind(document,m.isopera&&!m.isopera12?"keypress":"keydown",u.onkeypress),u.bind(document,"keydown",function(o){o.ctrlKey&&(u.wheelprevented=!0)}),u.bind(document,"keyup",function(o){o.ctrlKey||(u.wheelprevented=!1)}),u.bind(window,"blur",function(o){u.wheelprevented=!1}),u.bind(window,"resize",u.lazyResize),u.bind(window,"orientationchange",u.lazyResize),u.bind(window,"load",u.lazyResize),m.ischrome&&!u.ispage&&!u.haswrapper){var c=u.win.attr("style"),i=parseFloat(u.win.css("width"))+1;u.win.css("width",i),u.synched("chromefix",function(){u.win.attr("style",c)})}u.onAttributeChange=function(o){u.lazyResize(u.isieold?250:30)},u.isie11||!1===T||(u.observerbody=new T(function(o){if(o.forEach(function(o){if("attributes"==o.type)return p("body").hasClass("modal-open")&&p("body").hasClass("modal-dialog")&&!p.contains(p(".modal-dialog")[0],u.doc[0])?u.hide():u.show()}),document.body.scrollHeight!=u.page.maxh)return u.lazyResize(30)}),u.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),u.ispage||u.haswrapper||(!1!==T?(u.observer=new T(function(o){o.forEach(u.onAttributeChange)}),u.observer.observe(u.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),u.observerremover=new T(function(o){o.forEach(function(o){if(0<o.removedNodes.length)for(var e in o.removedNodes)if(u&&o.removedNodes[e]==u.win[0])return u.remove()})}),u.observerremover.observe(u.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(u.bind(u.win,m.isie&&!m.isie9?"propertychange":"DOMAttrModified",u.onAttributeChange),m.isie9&&u.win[0].attachEvent("onpropertychange",u.onAttributeChange),u.bind(u.win,"DOMNodeRemoved",function(o){o.target==u.win[0]&&u.remove()}))),!u.ispage&&u.opt.boxzoom&&u.bind(window,"resize",u.resizeZoom),u.istextarea&&(u.bind(u.win,"keydown",u.lazyResize),u.bind(u.win,"mouseup",u.lazyResize)),u.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var d=function(){var e;u.iframexd=!1;try{e="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(o){u.iframexd=!0,e=!1}if(u.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(u.forcescreen=!0,u.isiframe&&(u.iframe={doc:p(e),html:u.doc.contents().find("html")[0],body:u.doc.contents().find("body")[0]},u.getContentSize=function(){return{w:Math.max(u.iframe.html.scrollWidth,u.iframe.body.scrollWidth),h:Math.max(u.iframe.html.scrollHeight,u.iframe.body.scrollHeight)}},u.docscroll=p(u.iframe.body)),!m.isios&&u.opt.iframeautoresize&&!u.isiframe){u.win.scrollTop(0),u.doc.height("");var o=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);u.doc.height(o)}u.lazyResize(30),m.isie7&&u.css(p(u.iframe.html),t),u.css(p(u.iframe.body),t),m.isios&&u.haswrapper&&u.css(p(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?u.bind(this.contentWindow,"scroll",u.onscroll):u.bind(e,"scroll",u.onscroll),u.opt.enablemousewheel&&u.mousewheel(e,u.onmousewheel),u.opt.enablekeyboard&&u.bind(e,m.isopera?"keypress":"keydown",u.onkeypress),(m.cantouch||u.opt.touchbehavior)&&(u.bind(e,"mousedown",u.ontouchstart),u.bind(e,"mousemove",function(o){return u.ontouchmove(o,!0)}),u.opt.grabcursorenabled&&m.cursorgrabvalue&&u.css(p(e.body),{cursor:m.cursorgrabvalue})),u.bind(e,"mouseup",u.ontouchend),u.zoom&&(u.opt.dblclickzoom&&u.bind(e,"dblclick",u.doZoom),u.ongesturezoom&&u.bind(e,"gestureend",u.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){d.call(u.doc[0],!1)},500),u.bind(this.doc,"load",d)}},this.showCursor=function(o,e){if(u.cursortimeout&&(clearTimeout(u.cursortimeout),u.cursortimeout=0),u.rail){if(u.autohidedom&&(u.autohidedom.stop().css({opacity:u.opt.cursoropacitymax}),u.cursoractive=!0),u.rail.drag&&1==u.rail.drag.pt||(void 0!==o&&!1!==o&&(u.scroll.y=Math.round(1*o/u.scrollratio.y)),void 0!==e&&(u.scroll.x=Math.round(1*e/u.scrollratio.x))),u.cursor.css({height:u.cursorheight,top:u.scroll.y}),u.cursorh){var t=u.hasreversehr?u.scrollvaluemaxw-u.scroll.x:u.scroll.x;!u.rail.align&&u.rail.visibility?u.cursorh.css({width:u.cursorwidth,left:t+u.rail.width}):u.cursorh.css({width:u.cursorwidth,left:t}),u.cursoractive=!0}u.zoom&&u.zoom.stop().css({opacity:u.opt.cursoropacitymax})}},this.hideCursor=function(o){u.cursortimeout||!u.rail||!u.autohidedom||u.hasmousefocus&&"leave"==u.opt.autohidemode||(u.cursortimeout=setTimeout(function(){u.rail.active&&u.showonmouseevent||(u.autohidedom.stop().animate({opacity:u.opt.cursoropacitymin}),u.zoom&&u.zoom.stop().animate({opacity:u.opt.cursoropacitymin}),u.cursoractive=!1),u.cursortimeout=0},o||u.opt.hidecursordelay))},this.noticeCursor=function(o,e,t){u.showCursor(e,t),u.rail.active||u.hideCursor(o)},this.getContentSize=u.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:u.haswrapper?function(){return{w:u.doc.outerWidth()+parseInt(u.win.css("paddingLeft"))+parseInt(u.win.css("paddingRight")),h:u.doc.outerHeight()+parseInt(u.win.css("paddingTop"))+parseInt(u.win.css("paddingBottom"))}}:function(){return{w:u.docscroll[0].scrollWidth,h:u.docscroll[0].scrollHeight}},this.onResize=function(o,e){if(!u||!u.win)return!1;if(!u.haswrapper&&!u.ispage){if("none"==u.win.css("display"))return u.visibility&&u.hideRail().hideRailHr(),!1;u.hidden||u.visibility||u.showRail().showRailHr()}var t=u.page.maxh,i=u.page.maxw,n=u.view.h,r=u.view.w;if(u.view={w:u.ispage?u.win.width():parseInt(u.win[0].clientWidth),h:u.ispage?u.win.height():parseInt(u.win[0].clientHeight)},u.page=e||u.getContentSize(),u.page.maxh=Math.max(0,u.page.h-u.view.h),u.page.maxw=Math.max(0,u.page.w-u.view.w),u.page.maxh==t&&u.page.maxw==i&&u.view.w==r&&u.view.h==n){if(u.ispage)return u;if(t=u.win.offset(),u.lastposition&&(i=u.lastposition).top==t.top&&i.left==t.left)return u;u.lastposition=t}return 0==u.page.maxh?(u.hideRail(),u.scrollvaluemax=0,u.scroll.y=0,u.scrollratio.y=0,u.cursorheight=0,u.setScrollTop(0),u.rail&&(u.rail.scrollable=!1)):(u.page.maxh-=u.opt.railpadding.top+u.opt.railpadding.bottom,u.rail.scrollable=!0),0==u.page.maxw?(u.hideRailHr(),u.scrollvaluemaxw=0,u.scroll.x=0,u.scrollratio.x=0,u.cursorwidth=0,u.setScrollLeft(0),u.railh&&(u.railh.scrollable=!1)):(u.page.maxw-=u.opt.railpadding.left+u.opt.railpadding.right,u.railh&&(u.railh.scrollable=u.opt.horizrailenabled)),u.railslocked=u.locked||0==u.page.maxh&&0==u.page.maxw,u.railslocked?(u.ispage||u.updateScrollBar(u.view),!1):(u.hidden||u.visibility?!u.railh||u.hidden||u.railh.visibility||u.showRailHr():u.showRail().showRailHr(),u.istextarea&&u.win.css("resize")&&"none"!=u.win.css("resize")&&(u.view.h-=20),u.cursorheight=Math.min(u.view.h,Math.round(u.view.h/u.page.h*u.view.h)),u.cursorheight=u.opt.cursorfixedheight?u.opt.cursorfixedheight:Math.max(u.opt.cursorminheight,u.cursorheight),u.cursorwidth=Math.min(u.view.w,Math.round(u.view.w/u.page.w*u.view.w)),u.cursorwidth=u.opt.cursorfixedheight?u.opt.cursorfixedheight:Math.max(u.opt.cursorminheight,u.cursorwidth),u.scrollvaluemax=u.view.h-u.cursorheight-u.cursor.hborder-(u.opt.railpadding.top+u.opt.railpadding.bottom),u.railh&&(u.railh.width=0<u.page.maxh?u.view.w-u.rail.width:u.view.w,u.scrollvaluemaxw=u.railh.width-u.cursorwidth-u.cursorh.wborder-(u.opt.railpadding.left+u.opt.railpadding.right)),u.ispage||u.updateScrollBar(u.view),u.scrollratio={x:u.page.maxw/u.scrollvaluemaxw,y:u.page.maxh/u.scrollvaluemax},u.getScrollTop()>u.page.maxh?u.doScrollTop(u.page.maxh):(u.scroll.y=Math.round(u.getScrollTop()*(1/u.scrollratio.y)),u.scroll.x=Math.round(u.getScrollLeft()*(1/u.scrollratio.x)),u.cursoractive&&u.noticeCursor()),u.scroll.y&&0==u.getScrollTop()&&u.doScrollTo(Math.floor(u.scroll.y*u.scrollratio.y)),u)},this.resize=u.onResize,this.hlazyresize=0,this.lazyResize=function(o){return u.haswrapper||u.hide(),u.hlazyresize&&clearTimeout(u.hlazyresize),u.hlazyresize=setTimeout(function(){u&&u.show().resize()},240),u},this.jqbind=function(o,e,t){u.events.push({e:o,n:e,f:t,q:!0}),p(o).bind(e,t)},this.mousewheel=function(o,e,t){if(o="jquery"in o?o[0]:o,"onwheel"in document.createElement("div"))u._bind(o,"wheel",e,t||!1);else{var i=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";n(o,i,e,t||!1),"DOMMouseScroll"==i&&n(o,"MozMousePixelScroll",e,t||!1)}},m.haseventlistener?(this.bind=function(o,e,t,i){u._bind("jquery"in o?o[0]:o,e,t,i||!1)},this._bind=function(o,e,t,i){u.events.push({e:o,n:e,f:t,b:i,q:!1}),o.addEventListener(e,t,i||!1)},this.cancelEvent=function(o){return o&&((o=o.original?o.original:o).cancelable&&o.preventDefault(),o.stopPropagation(),o.preventManipulation&&o.preventManipulation()),!1},this.stopPropagation=function(o){return o&&(o=o.original?o.original:o).stopPropagation(),!1},this._unbind=function(o,e,t,i){o.removeEventListener(e,t,i)}):(this.bind=function(o,e,t,i){var n="jquery"in o?o[0]:o;u._bind(n,e,function(o){return(o=o||window.event||!1)&&o.srcElement&&(o.target=o.srcElement),"pageY"in o||(o.pageX=o.clientX+document.documentElement.scrollLeft,o.pageY=o.clientY+document.documentElement.scrollTop),!1!==t.call(n,o)&&!1!==i||u.cancelEvent(o)})},this._bind=function(o,e,t,i){u.events.push({e:o,n:e,f:t,b:i,q:!1}),o.attachEvent?o.attachEvent("on"+e,t):o["on"+e]=t},this.cancelEvent=function(o){return!!(o=window.event||!1)&&(o.cancelBubble=!0,o.cancel=!0,o.returnValue=!1)},this.stopPropagation=function(o){return!!(o=window.event||!1)&&!(o.cancelBubble=!0)},this._unbind=function(o,e,t,i){o.detachEvent?o.detachEvent("on"+e,t):o["on"+e]=!1}),this.unbindAll=function(){for(var o=0;o<u.events.length;o++){var e=u.events[o];e.q?e.e.unbind(e.n,e.f):u._unbind(e.e,e.n,e.f,e.b)}},this.showRail=function(){return 0==u.page.maxh||!u.ispage&&"none"==u.win.css("display")||(u.visibility=!0,u.rail.visibility=!0,u.rail.css("display","block")),u},this.showRailHr=function(){return u.railh&&(0==u.page.maxw||!u.ispage&&"none"==u.win.css("display")||(u.railh.visibility=!0,u.railh.css("display","block"))),u},this.hideRail=function(){return u.visibility=!1,u.rail.visibility=!1,u.rail.css("display","none"),u},this.hideRailHr=function(){return u.railh&&(u.railh.visibility=!1,u.railh.css("display","none")),u},this.show=function(){return u.hidden=!1,u.railslocked=!1,u.showRail().showRailHr()},this.hide=function(){return u.hidden=!0,u.railslocked=!0,u.hideRail().hideRailHr()},this.toggle=function(){return u.hidden?u.show():u.hide()},this.remove=function(){for(var o in u.stop(),u.cursortimeout&&clearTimeout(u.cursortimeout),u.delaylist)u.delaylist[o]&&x(u.delaylist[o].h);for(u.doZoomOut(),u.unbindAll(),m.isie9&&u.win[0].detachEvent("onpropertychange",u.onAttributeChange),!1!==u.observer&&u.observer.disconnect(),!1!==u.observerremover&&u.observerremover.disconnect(),!1!==u.observerbody&&u.observerbody.disconnect(),u.events=null,u.cursor&&u.cursor.remove(),u.cursorh&&u.cursorh.remove(),u.rail&&u.rail.remove(),u.railh&&u.railh.remove(),u.zoom&&u.zoom.remove(),o=0;o<u.saved.css.length;o++){var e=u.saved.css[o];e[0].css(e[1],void 0===e[2]?"":e[2])}u.saved=!1,u.me.data("__nicescroll","");var t=p.nicescroll;for(var i in t.each(function(o){if(this&&this.id===u.id){delete t[o];for(var e=++o;e<t.length;e++,o++)t[o]=t[e];t.length--,t.length&&delete t[t.length]}}),u)u[i]=null,delete u[i];u=null},this.scrollstart=function(o){return this.onscrollstart=o,u},this.scrollend=function(o){return this.onscrollend=o,u},this.scrollcancel=function(o){return this.onscrollcancel=o,u},this.zoomin=function(o){return this.onzoomin=o,u},this.zoomout=function(o){return this.onzoomout=o,u},this.isScrollable=function(o){if("OPTION"==(o=o.target?o.target:o).nodeName)return!0;for(;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var e=p(o),e=e.css("overflowY")||e.css("overflowX")||e.css("overflow")||"";if(/scroll|auto/.test(e))return o.clientHeight!=o.scrollHeight;o=!!o.parentNode&&o.parentNode}return!1},this.getViewport=function(o){for(o=!(!o||!o.parentNode)&&o.parentNode;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var e=p(o);if(/fixed|absolute/.test(e.css("position")))return e;var t=e.css("overflowY")||e.css("overflowX")||e.css("overflow")||"";if(/scroll|auto/.test(t)&&o.clientHeight!=o.scrollHeight||0<e.getNiceScroll().length)return e;o=!!o.parentNode&&o.parentNode}return!1},this.triggerScrollEnd=function(){if(u.onscrollend){var o=u.getScrollLeft(),e=u.getScrollTop();u.onscrollend.call(u,{type:"scrollend",current:{x:o,y:e},end:{x:o,y:e}})}},this.onmousewheel=function(o){if(!u.wheelprevented){if(u.railslocked)return u.debounced("checkunlock",u.resize,250),!0;if(u.rail.drag)return u.cancelEvent(o);if("auto"==u.opt.oneaxismousemode&&0!=o.deltaX&&(u.opt.oneaxismousemode=!1),u.opt.oneaxismousemode&&0==o.deltaX&&!u.rail.scrollable)return!u.railh||!u.railh.scrollable||u.onmousewheelhr(o);var e=+new Date,t=!1;return u.opt.preservenativescrolling&&u.checkarea+600<e&&(u.nativescrollingarea=u.isScrollable(o),t=!0),u.checkarea=e,!!u.nativescrollingarea||((o=i(o,!1,t))&&(u.checkarea=0),o)}},this.onmousewheelhr=function(o){if(!u.wheelprevented){if(u.railslocked||!u.railh.scrollable)return!0;if(u.rail.drag)return u.cancelEvent(o);var e=+new Date,t=!1;return u.opt.preservenativescrolling&&u.checkarea+600<e&&(u.nativescrollingarea=u.isScrollable(o),t=!0),u.checkarea=e,!!u.nativescrollingarea||(u.railslocked?u.cancelEvent(o):i(o,!0,t))}},this.stop=function(){return u.cancelScroll(),u.scrollmon&&u.scrollmon.stop(),u.cursorfreezed=!1,u.scroll.y=Math.round(u.getScrollTop()*(1/u.scrollratio.y)),u.noticeCursor(),u},this.getTransitionSpeed=function(o){return 20<(o=Math.min(Math.round(10*u.opt.scrollspeed),Math.round(o/20*u.opt.scrollspeed)))?o:0},u.opt.smoothscroll?u.ishwscroll&&m.hastransition&&u.opt.usetransition&&u.opt.smoothscroll?(this.prepareTransition=function(o,e){var t=e?20<o?o:0:u.getTransitionSpeed(o),i=t?m.prefixstyle+"transform "+t+"ms ease-out":"";return u.lasttransitionstyle&&u.lasttransitionstyle==i||(u.lasttransitionstyle=i,u.doc.css(m.transitionstyle,i)),t},this.doScrollLeft=function(o,e){var t=u.scrollrunning?u.newscrolly:u.getScrollTop();u.doScrollPos(o,t,e)},this.doScrollTop=function(o,e){var t=u.scrollrunning?u.newscrollx:u.getScrollLeft();u.doScrollPos(t,o,e)},this.doScrollPos=function(i,n,o){var e=u.getScrollTop(),t=u.getScrollLeft();return((u.newscrolly-e)*(n-e)<0||(u.newscrollx-t)*(i-t)<0)&&u.cancelScroll(),0==u.opt.bouncescroll&&(n<0?n=0:n>u.page.maxh&&(n=u.page.maxh),i<0?i=0:i>u.page.maxw&&(i=u.page.maxw)),(!u.scrollrunning||i!=u.newscrollx||n!=u.newscrolly)&&(u.newscrolly=n,u.newscrollx=i,u.newscrollspeed=o||!1,!u.timer&&void(u.timer=setTimeout(function(){var o=u.getScrollTop(),e=u.getScrollLeft(),t=Math.round(Math.sqrt(Math.pow(i-e,2)+Math.pow(n-o,2))),t=u.newscrollspeed&&1<u.newscrollspeed?u.newscrollspeed:u.getTransitionSpeed(t);u.newscrollspeed&&u.newscrollspeed<=1&&(t*=u.newscrollspeed),u.prepareTransition(t,!0),u.timerscroll&&u.timerscroll.tm&&clearInterval(u.timerscroll.tm),0<t&&(!u.scrollrunning&&u.onscrollstart&&u.onscrollstart.call(u,{type:"scrollstart",current:{x:e,y:o},request:{x:i,y:n},end:{x:u.newscrollx,y:u.newscrolly},speed:t}),m.transitionend?u.scrollendtrapped||(u.scrollendtrapped=!0,u.bind(u.doc,m.transitionend,u.onScrollTransitionEnd,!1)):(u.scrollendtrapped&&clearTimeout(u.scrollendtrapped),u.scrollendtrapped=setTimeout(u.onScrollTransitionEnd,t)),u.timerscroll={bz:new c(o,u.newscrolly,t,0,0,.58,1),bh:new c(e,u.newscrollx,t,0,0,.58,1)},u.cursorfreezed||(u.timerscroll.tm=setInterval(function(){u.showCursor(u.getScrollTop(),u.getScrollLeft())},60))),u.synched("doScroll-set",function(){u.timer=0,u.scrollendtrapped&&(u.scrollrunning=!0),u.setScrollTop(u.newscrolly),u.setScrollLeft(u.newscrollx),u.scrollendtrapped||u.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!u.scrollendtrapped)return!0;var o=u.getScrollTop(),e=u.getScrollLeft();return u.scrollrunning=!1,m.transitionend||clearTimeout(m.transitionend),u.scrollendtrapped=!1,u._unbind(u.doc[0],m.transitionend,u.onScrollTransitionEnd),u.prepareTransition(0),u.setScrollTop(o),u.railh&&u.setScrollLeft(e),u.timerscroll&&u.timerscroll.tm&&clearInterval(u.timerscroll.tm),u.timerscroll=!1,u.cursorfreezed=!1,u.showCursor(o,e),u},this.onScrollTransitionEnd=function(){u.scrollendtrapped&&u._unbind(u.doc[0],m.transitionend,u.onScrollTransitionEnd),u.scrollendtrapped=!1,u.prepareTransition(0),u.timerscroll&&u.timerscroll.tm&&clearInterval(u.timerscroll.tm),u.timerscroll=!1;var o=u.getScrollTop(),e=u.getScrollLeft();if(u.setScrollTop(o),u.railh&&u.setScrollLeft(e),u.noticeCursor(!1,o,e),u.cursorfreezed=!1,o<0?o=0:o>u.page.maxh&&(o=u.page.maxh),e<0?e=0:e>u.page.maxw&&(e=u.page.maxw),o!=u.newscrolly||e!=u.newscrollx)return u.doScrollPos(e,o,u.opt.snapbackspeed);u.onscrollend&&u.scrollrunning&&u.triggerScrollEnd(),u.scrollrunning=!1}):(this.doScrollLeft=function(o,e){var t=u.scrollrunning?u.newscrolly:u.getScrollTop();u.doScrollPos(o,t,e)},this.doScrollTop=function(o,e){var t=u.scrollrunning?u.newscrollx:u.getScrollLeft();u.doScrollPos(t,o,e)},this.doScrollPos=function(o,e,t){if(e=void 0===e||!1===e?u.getScrollTop(!0):e,u.timer&&u.newscrolly==e&&u.newscrollx==o)return!0;u.timer&&x(u.timer),u.timer=0;var i=u.getScrollTop(),n=u.getScrollLeft();((u.newscrolly-i)*(e-i)<0||(u.newscrollx-n)*(o-n)<0)&&u.cancelScroll(),u.newscrolly=e,u.newscrollx=o,u.bouncescroll&&u.rail.visibility||(u.newscrolly<0?u.newscrolly=0:u.newscrolly>u.page.maxh&&(u.newscrolly=u.page.maxh)),u.bouncescroll&&u.railh.visibility||(u.newscrollx<0?u.newscrollx=0:u.newscrollx>u.page.maxw&&(u.newscrollx=u.page.maxw)),u.dst={},u.dst.x=o-n,u.dst.y=e-i,u.dst.px=n,u.dst.py=i;var r=Math.round(Math.sqrt(Math.pow(u.dst.x,2)+Math.pow(u.dst.y,2)));u.dst.ax=u.dst.x/r,u.dst.ay=u.dst.y/r;var a=0,s=r;if(0==u.dst.x?(a=i,s=e,u.dst.ay=1,u.dst.py=0):0==u.dst.y&&(a=n,s=o,u.dst.ax=1,u.dst.px=0),r=u.getTransitionSpeed(r),t&&t<=1&&(r*=t),u.bzscroll=0<r&&(u.bzscroll?u.bzscroll.update(s,r):new c(a,s,r,0,1,0,1)),!u.timer){(i==u.page.maxh&&e>=u.page.maxh||n==u.page.maxw&&o>=u.page.maxw)&&u.checkContentSize();var l=1;u.cancelAnimationFrame=!1,u.timer=1,u.onscrollstart&&!u.scrollrunning&&u.onscrollstart.call(u,{type:"scrollstart",current:{x:n,y:i},request:{x:o,y:e},end:{x:u.newscrollx,y:u.newscrolly},speed:r}),function o(){if(u.cancelAnimationFrame)return!0;if(u.scrollrunning=!0,l=1-l)return u.timer=y(o)||1;var e,t,i=0,n=t=u.getScrollTop();u.dst.ay?(n=u.bzscroll?u.dst.py+u.bzscroll.getNow()*u.dst.ay:u.newscrolly,((e=n-t)<0&&n<u.newscrolly||0<e&&n>u.newscrolly)&&(n=u.newscrolly),u.setScrollTop(n),n==u.newscrolly&&(i=1)):i=1,t=e=u.getScrollLeft(),u.dst.ax?(t=u.bzscroll?u.dst.px+u.bzscroll.getNow()*u.dst.ax:u.newscrollx,((e=t-e)<0&&t<u.newscrollx||0<e&&t>u.newscrollx)&&(t=u.newscrollx),u.setScrollLeft(t),t==u.newscrollx&&(i+=1)):i+=1,2==i?(u.timer=0,u.cursorfreezed=!1,u.bzscroll=!1,u.scrollrunning=!1,n<0?n=0:n>u.page.maxh&&(n=Math.max(0,u.page.maxh)),t<0?t=0:t>u.page.maxw&&(t=u.page.maxw),t!=u.newscrollx||n!=u.newscrolly?u.doScrollPos(t,n):u.onscrollend&&u.triggerScrollEnd()):u.timer=y(o)||1}(),(i==u.page.maxh&&i<=e||n==u.page.maxw&&n<=o)&&u.checkContentSize(),u.noticeCursor()}},this.cancelScroll=function(){return u.timer&&x(u.timer),u.timer=0,u.bzscroll=!1,u.scrollrunning=!1,u}):(this.doScrollLeft=function(o,e){var t=u.getScrollTop();u.doScrollPos(o,t,e)},this.doScrollTop=function(o,e){var t=u.getScrollLeft();u.doScrollPos(t,o,e)},this.doScrollPos=function(o,e,t){var i=o>u.page.maxw?u.page.maxw:o;i<0&&(i=0);var n=e>u.page.maxh?u.page.maxh:e;n<0&&(n=0),u.synched("scroll",function(){u.setScrollTop(n),u.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(o,e){var t=0,t=e?Math.floor((u.scroll.y-o)*u.scrollratio.y):(u.timer?u.newscrolly:u.getScrollTop(!0))-o;if(u.bouncescroll){var i=Math.round(u.view.h/2);t<-i?t=-i:t>u.page.maxh+i&&(t=u.page.maxh+i)}return u.cursorfreezed=!1,i=u.getScrollTop(!0),t<0&&i<=0?u.noticeCursor():t>u.page.maxh&&i>=u.page.maxh?(u.checkContentSize(),u.noticeCursor()):void u.doScrollTop(t)},this.doScrollLeftBy=function(o,e){var t=0,t=e?Math.floor((u.scroll.x-o)*u.scrollratio.x):(u.timer?u.newscrollx:u.getScrollLeft(!0))-o;if(u.bouncescroll){var i=Math.round(u.view.w/2);t<-i?t=-i:t>u.page.maxw+i&&(t=u.page.maxw+i)}if(u.cursorfreezed=!1,i=u.getScrollLeft(!0),t<0&&i<=0||t>u.page.maxw&&i>=u.page.maxw)return u.noticeCursor();u.doScrollLeft(t)},this.doScrollTo=function(o,e){u.cursorfreezed=!1,u.doScrollTop(o)},this.checkContentSize=function(){var o=u.getContentSize();o.h==u.page.h&&o.w==u.page.w||u.resize(!1,o)},u.onscroll=function(o){u.rail.drag||u.cursorfreezed||u.synched("scroll",function(){u.scroll.y=Math.round(u.getScrollTop()*(1/u.scrollratio.y)),u.railh&&(u.scroll.x=Math.round(u.getScrollLeft()*(1/u.scrollratio.x))),u.noticeCursor()})},u.bind(u.docscroll,"scroll",u.onscroll),this.doZoomIn=function(o){if(!u.zoomactive){u.zoomactive=!0,u.zoomrestore={style:{}};var e,t="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),i=u.win[0].style;for(e in t){var n=t[e];u.zoomrestore.style[n]=void 0!==i[n]?i[n]:""}return u.zoomrestore.style.width=u.win.css("width"),u.zoomrestore.style.height=u.win.css("height"),u.zoomrestore.padding={w:u.win.outerWidth()-u.win.width(),h:u.win.outerHeight()-u.win.height()},m.isios4&&(u.zoomrestore.scrollTop=p(window).scrollTop(),p(window).scrollTop(0)),u.win.css({position:m.isios4?"absolute":"fixed",top:0,left:0,zIndex:b+100,margin:0}),(""==(t=u.win.css("backgroundColor"))||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(t))&&u.win.css("backgroundColor","#fff"),u.rail.css({zIndex:b+101}),u.zoom.css({zIndex:b+102}),u.zoom.css("backgroundPosition","0px -18px"),u.resizeZoom(),u.onzoomin&&u.onzoomin.call(u),u.cancelEvent(o)}},this.doZoomOut=function(o){if(u.zoomactive)return u.zoomactive=!1,u.win.css("margin",""),u.win.css(u.zoomrestore.style),m.isios4&&p(window).scrollTop(u.zoomrestore.scrollTop),u.rail.css({"z-index":u.zindex}),u.zoom.css({"z-index":u.zindex}),u.zoomrestore=!1,u.zoom.css("backgroundPosition","0px 0px"),u.onResize(),u.onzoomout&&u.onzoomout.call(u),u.cancelEvent(o)},this.doZoom=function(o){return u.zoomactive?u.doZoomOut(o):u.doZoomIn(o)},this.resizeZoom=function(){if(u.zoomactive){var o=u.getScrollTop();u.win.css({width:p(window).width()-u.zoomrestore.padding.w+"px",height:p(window).height()-u.zoomrestore.padding.h+"px"}),u.onResize(),u.setScrollTop(Math.min(u.page.maxh,o))}},this.init(),p.nicescroll.push(this)},H=function(o){var c=this;this.nc=o,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(o,e){c.stop();var t=c.time();c.steptime=0,c.lasttime=t,c.speedx=0,c.speedy=0,c.lastx=o,c.lasty=e,c.lastscrollx=-1,c.lastscrolly=-1},this.update=function(o,e){var t=c.time();c.steptime=t-c.lasttime,c.lasttime=t;var t=e-c.lasty,i=o-c.lastx,n=c.nc.getScrollTop(),r=c.nc.getScrollLeft(),n=n+t,r=r+i;c.snapx=r<0||r>c.nc.page.maxw,c.snapy=n<0||n>c.nc.page.maxh,c.speedx=i,c.speedy=t,c.lastx=o,c.lasty=e},this.stop=function(){c.nc.unsynched("domomentum2d"),c.timer&&clearTimeout(c.timer),c.timer=0,c.lastscrollx=-1,c.lastscrolly=-1},this.doSnapy=function(o,e){var t=!1;e<0?t=!(e=0):e>c.nc.page.maxh&&(e=c.nc.page.maxh,t=!0),o<0?t=!(o=0):o>c.nc.page.maxw&&(o=c.nc.page.maxw,t=!0),t?c.nc.doScrollPos(o,e,c.nc.opt.snapbackspeed):c.nc.triggerScrollEnd()},this.doMomentum=function(o){var t=c.time(),e=o?t+o:c.lasttime;o=c.nc.getScrollLeft();var i=c.nc.getScrollTop(),n=c.nc.page.maxh,r=c.nc.page.maxw;if(c.speedx=0<r?Math.min(60,c.speedx):0,c.speedy=0<n?Math.min(60,c.speedy):0,e=e&&t-e<=60,(i<0||n<i||o<0||r<o)&&(e=!1),o=!(!c.speedx||!e)&&c.speedx,c.speedy&&e&&c.speedy||o){var a=Math.max(16,c.steptime);50<a&&(o=a/50,c.speedx*=o,c.speedy*=o,a=50),c.demulxy=0,c.lastscrollx=c.nc.getScrollLeft(),c.chkx=c.lastscrollx,c.lastscrolly=c.nc.getScrollTop(),c.chky=c.lastscrolly;var s=c.lastscrollx,l=c.lastscrolly;!function o(){var e=600<c.time()-t?.04:.02;c.speedx&&(s=Math.floor(c.lastscrollx-c.speedx*(1-c.demulxy)),(c.lastscrollx=s)<0||r<s)&&(e=.1),c.speedy&&(l=Math.floor(c.lastscrolly-c.speedy*(1-c.demulxy)),(c.lastscrolly=l)<0||n<l)&&(e=.1),c.demulxy=Math.min(1,c.demulxy+e),c.nc.synched("domomentum2d",function(){c.speedx&&(c.nc.getScrollLeft(),c.chkx=s,c.nc.setScrollLeft(s)),c.speedy&&(c.nc.getScrollTop(),c.chky=l,c.nc.setScrollTop(l)),c.timer||(c.nc.hideCursor(),c.doSnapy(s,l))}),c.demulxy<1?c.timer=setTimeout(o,a):(c.stop(),c.nc.hideCursor(),c.doSnapy(s,l))}()}else c.doSnapy(c.nc.getScrollLeft(),c.nc.getScrollTop())}},r=p.fn.scrollTop;p.cssHooks.pageYOffset={get:function(o,e,t){return(e=p.data(o,"__nicescroll")||!1)&&e.ishwscroll?e.getScrollTop():r.call(o)},set:function(o,e){var t=p.data(o,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollTop(parseInt(e)):r.call(o,e),this}},p.fn.scrollTop=function(e){if(void 0!==e)return this.each(function(){var o=p.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(e)):r.call(p(this),e)});var o=this[0]&&p.data(this[0],"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():r.call(this)};var a=p.fn.scrollLeft;p.cssHooks.pageXOffset={get:function(o,e,t){return(e=p.data(o,"__nicescroll")||!1)&&e.ishwscroll?e.getScrollLeft():a.call(o)},set:function(o,e){var t=p.data(o,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):a.call(o,e),this}},p.fn.scrollLeft=function(e){if(void 0!==e)return this.each(function(){var o=p.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):a.call(p(this),e)});var o=this[0]&&p.data(this[0],"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():a.call(this)};var s=function(o){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(o){return p.each(e,o),e},this.push=function(o){e[e.length]=o,e.length++},this.eq=function(o){return e[o]},o)for(var t=0;t<o.length;t++){var i=p.data(o[t],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};(function(o,e,t){for(var i=0;i<e.length;i++)t(o,e[i])})(s.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(o,e){o[e]=function(){var o=arguments;return this.each(function(){this[e].apply(this,o)})}}),p.fn.getNiceScroll=function(o){return void 0===o?new s(this):this[o]&&p.data(this[o],"__nicescroll")||!1},p.expr[":"].nicescroll=function(o){return void 0!==p.data(o,"__nicescroll")},p.fn.niceScroll=function(o,e){void 0!==e||"object"!=l(o)||"jquery"in o||(e=o,o=!1),e=p.extend({},e);var t=new s;void 0===e&&(e={}),o&&(e.doc=p(o),e.win=p(this));var i=!("doc"in e);return i||"win"in e||(e.win=p(this)),this.each(function(){var o=p(this).data("__nicescroll")||!1;o||(e.doc=i?p(this):e.doc,o=new n(e,p(this)),p(this).data("__nicescroll",o)),t.push(o)}),1==t.length?t[0]:t},window.NiceScroll={getjQuery:function(){return p}},p.nicescroll||(p.nicescroll=new s,p.nicescroll.options=S)})?i.apply(e,n):i)||(o.exports=r)}});